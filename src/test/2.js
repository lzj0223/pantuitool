fetch(
  `https://pan.baidu.com/share/verify?t=1719891664573&surl=l9Hu8xCElWyvEP9IPcN2jw&channel=chunlei&web=1&app_id=250528&bdstoken=eb42977165185188266942c1ccb5e213&logid=&clienttype=0&dp-logid=`,
  {
    headers: {
      accept: "application/json, text/javascript, */*; q=0.01",
      "accept-language": "zh-CN,zh;q=0.9",
      "cache-control": "no-cache",
      "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
      pragma: "no-cache",
      "x-requested-with": "XMLHttpRequest",
      Referer:
        "https://pan.baidu.com/share/init?surl=l9Hu8xCElWyvEP9IPcN2jw&pwd=1234",
      cookie:
        'XFI=de03ee33-3324-078e-0d1a-2bc0839a037b; XFCS=0AAF6BE4770F03AC86E941B9416B34510F132402FB54F510846E0384F23AA424; XFT=MR08G1XF28OkLphw9Xz9kGNNZSJxO+EDF+XvKYoOBMo=; BAIDUID=44264338B4DC986A348F66147D7F8651:FG=1; BDUSS=HhneDRCMmsxUVJjaGU2RlNPbGRxaVhoVFA0Zjk2M2NiaFA4TzVHN0duU0owRTFsSVFBQUFBJCQAAAAAAAAAAAEAAAB9dDcHtPPK99j9s78wMjIzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIlDJmWJQyZlN; BDUSS_BFESS=HhneDRCMmsxUVJjaGU2RlNPbGRxaVhoVFA0Zjk2M2NiaFA4TzVHN0duU0owRTFsSVFBQUFBJCQAAAAAAAAAAAEAAAB9dDcHtPPK99j9s78wMjIzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIlDJmWJQyZlN; PSTM=1698657735; BIDUPSID=9FBF6EFB3F1C4E04E4A2972D9CA38692; PANWEB=1; Hm_lvt_fa0277816200010a74ab7d2895df481b=1708239222; Hm_lvt_95fc87a381fad8fcb37d76ac51fefcea=1708244064; Hm_lvt_0ba7bcf57b5e55fbfbab9a2750acdf3e=1708245405,1708247394,1708308051,1710482892; MCITY=-194%3A; BAIDUID_BFESS=44264338B4DC986A348F66147D7F8651:FG=1; H_WISE_SIDS=110085_277936_298193_299594_500207_603328_298697_605855_301025_603025_607009_607359_282466_607484_607588_607112_605553_607573_607553_607593_607793_606390_606183_607895_607850_607748_607284_295818_607296_608034_608005_608236_608261_608269_608327_608170_608374_608407_608441_608151_307086_608255_608495_608349_608419_608487_301667_608073_222228_608527_608696_608780_608165_608853_608857_608776_608771_608784_608786_608881_608787_305467_607532_609050_608770_609099_607350_609162; H_WISE_SIDS_BFESS=110085_277936_298193_299594_500207_603328_298697_605855_301025_603025_607009_607359_282466_607484_607588_607112_605553_607573_607553_607593_607793_606390_606183_607895_607850_607748_607284_295818_607296_608034_608005_608236_608261_608269_608327_608170_608374_608407_608441_608151_307086_608255_608495_608349_608419_608487_301667_608073_222228_608527_608696_608780_608165_608853_608857_608776_608771_608784_608786_608881_608787_305467_607532_609050_608770_609099_607350_609162; STOKEN=9872e0d543fd66feb4aaf266c80153c0f777cb691ac755a7e0385cf546550f45; ZFY=yJt:BJzMHpMXW3uFglBEKe1QWI1bXLs6Nor3RD9cK5ps:C; newlogin=1; csrfToken=3dYdSPVWXJ1PhUlpXFBm_Brd; Hm_lvt_7a3960b6f067eb0085b7f96ff5e660b0=1718777696,1719826174; BDCLND=UdDFh6GpHIAV47dUsmIEGg7gOonmG1ZzqEQ29M5ivJA%3D; H_PS_PSSID=60335_60363; BA_HECTOR=2l25a10l04848ga1a1848l842kcr8b1j87ao41v; RT="z=1&dm=baidu.com&si=49ba90f1-37a4-45ef-8fb5-f103d4bdd1af&ss=ly45cnmg&sl=1&tt=3vq&bcn=https%3A%2F%2Ffclog.baidu.com%2Flog%2Fweirwood%3Ftype%3Dperf&ld=5bu&ul=1dqj&hd=1dsp"; Hm_lpvt_7a3960b6f067eb0085b7f96ff5e660b0=1719912209; PANPSC=14723301088877347326%3AKkwrx6t0uHBNhU13YiN2jEYemHfSgA%2FTejvROGNrV8GWimtJJwDT51l61JzrnZwtVT53AHcNGiQGbqupDlB1gnrVRCiuDbl5irZdV1IF3pXnGZ7rU7BfeOwvebY%2Fx0oDKPVTSvMLX%2FucCNpWJnWVThHpTO17wspIxFuBIW3y156QvaoB4mrv5XUvHO53SMyxMRmYrlFHgmqF9Kes%2FZQ%2FFe4PuTzNr1rr; ndut_fmt=DA67F0ED57F0473AD35924519A9E69CF91C49601463B17B835C847B1B8A0AF86; ab_sr=1.0.1_Y2RhYWVmNTQ2ZDZhMzcwYzQ4YTA2YjNkNWFhNzY5MTJlMTQzNzk3MDNmY2Q2M2I1ZjJkMTQ5ODY0YjIxOTA3YWYwZTMxYzFhYWFkZjRlZWI1ZDRiNzY2YTM5ODJhNDlhOGNiMGQxMjgzNzkzNTQ5YmQ4MzJiNjUzZDFjOWQxZjI5Yzc4MDEyMjlhMjk3OWU5MjNlMjIwMTU2YWFjZGZiYWQ3MjM4NDBjM2IxY2Y3ZTY2NjY3MWM0ZjZiZWYxOTJl',
    },
    body: "pwd=1234&vcode=&vcode_str=",
    method: "POST",
  }
)
  .then((resp) => {
    return resp.json();
  })
  .then((data) => {
    console.log(data);
  });

async function verifyPassCode(surl, bdstoken, passCode) {
  let params = new URLSearchParams();

  params.set("pwd", passCode);
  params.set("vcode", "");
  params.set("vcode_str", "");
  let response = await fetch(
    `https://pan.baidu.com/share/verify?surl=${surl}&bdstoken=${bdstoken}&t=${new Date().getTime()}&channel=chunlei&web=1&clienttype=0`,
    {
      method: "POST",
      referrer: `https://pan.baidu.com/share/init?surl=${surl}&pwd=${passCode}`,
      headers: {
        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8",
      },
      body: params.toString(),
    }
  );
  let responseJson = await response.json();

  console.log(responseJson);
}

verifyPassCode(
  "4RO2L0F8kvbp7XwYliEDBw",
  "eb42977165185188266942c1ccb5e213",
  "k5D6"
);
